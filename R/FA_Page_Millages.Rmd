---


---


## Local Millages




```{r}

tv_nhs <- 
  FA_Data_District %>% 
  filter(FY == fiscal.year) %>% 
  select(cy.d.1.tot.nhssev) %>% 
  pull()

tv_total <- 
  FA_Data_District %>% 
  filter(FY == fiscal.year) %>% 
  select(cy.d.1.sev) %>% 
  pull()

FA_Data_District %>% 
  filter(FY == fiscal.year) %>% 
  select(cy.d.1.nhs.basic, cy.d.1.hs.hrmls, cy.d.1.sinkfund, 
         cy.d.1.debtretire) %>%
  rename("Local foundation" = cy.d.1.nhs.basic,
         "Hold harmless" = cy.d.1.hs.hrmls,
         "Sinking fund" = cy.d.1.sinkfund,
         "Debt retirement" = cy.d.1.debtretire) %>% 
  pivot_longer(cols = everything()) %>% 
  mutate(tv = ifelse(name == "Local foundation", tv_nhs, tv_total),
         est.rev = (tv / 1000) * value) %>% 
  flextable() %>% 
  set_header_labels(name = "Millage Type",
                    value = "Millage Rate",
                    tv = "Taxable Value (TV)",
                    est.rev = "Estimated Revenue") %>% 
  flextable_custom_theme()


```

Millage Rules

Regional Enhancment Millage 



